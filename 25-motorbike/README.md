## 25. Motorbike

个人认为这是最难的一道题目，本题来自一个实际的UUPS设计模式漏洞。

首先，我们的目的是毁掉引擎，即使**引擎合约**`selfdestruct`，因此我们的思路如下：

1. 从proxy的storage中获取引擎合约的地址
2. 注意到引擎初始化函数是在proxy上通过`delegatecall`执行的，这意味着引擎合约本身没有初始化
3. 进而初始化引擎合约，劫持该合约的upgrader，然后调用`upgradeToAndCall`函数（该函数本意是升级后调用新版本组件做一些迁移工作）升级引擎，将其升级到攻击合约，然后调用攻击合约中写好的`selfdestruct`

这个步骤看似简单，但是本题最大的思维障碍在于要求攻击者意识到引擎合约本身不是proxy的附属品，因此proxy在我们的攻击过程中实际上只起到了获取引擎地址的作用。我们自始至终都在攻击引擎**本身**。
